/*
* jQuery Backstretch
* Version 1.2.5
* http://srobbin.com/jquery-plugins/jquery-backstretch/
*
* Add a dynamically-resized background image to the page
*
* Copyright (c) 2011 Scott Robbin (srobbin.com)
* Dual licensed under the MIT and GPL licenses.
*/
;(function(e){e.backstretch=function(t,n,r){function m(){if(t){var n;if(s.length==0){s=e("<div />").attr("id","backstretch").append(o.addlMarkup).css({left:0,top:0,position:"fixed",overflow:"hidden",zIndex:-999999,margin:0,padding:0,height:"100%",width:"100%"})}else{s.find("img").addClass("deleteable")}n=e("<img />").css({position:"absolute",display:"none",margin:0,padding:0,border:"none",zIndex:-999999}).bind("load",function(t){var n=e(this),i,u;n.css({width:"auto",height:"auto"});i=this.width||e(t.target).width();u=this.height||e(t.target).height();f=i/u;g(function(){n.fadeIn(o.speed,function(){s.find(".deleteable").remove();if(typeof r=="function")r()})})}).appendTo(s);if(e("body #backstretch").length==0){e("body").append(s)}s.data("settings",o);n.attr("src",t);e(window).resize(g)}}function g(t){try{d={left:0,top:0};c=a.width();h=c/f;if(h>=a.height()){p=(h-a.height())/2;if(o.centeredY)e.extend(d,{top:"-"+p+"px"})}else{h=a.height();c=h*f;p=(c-a.width())/2;if(o.centeredX)e.extend(d,{left:"-"+p+"px"})}e("#backstretch, #backstretch >*:not(.deleteable)").width(c).height(h).filter("img").css(d)}catch(n){}if(typeof t=="function")t()}var i={centeredX:true,centeredY:true,speed:0},s=e("#backstretch"),o=s.data("settings")||i,u=s.data("settings"),a="onorientationchange"in window?e(document):e(window),f,l,c,h,p,d,v;if(n&&typeof n=="object")e.extend(o,n);if(n&&typeof n=="function")r=n;e(document).ready(m);return this}})(jQuery)